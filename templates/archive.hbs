{{> head pageTitle=title}}

{{> meta 
    ogType="website"
    ogUrl=archiveUrl
    ogTitle=title
    ogDescription=description
    twitterUrl=archiveUrl
    twitterTitle=title
    twitterDescription=description
}}

{{> structured-data structuredData=true isArticle=false}}
<body class="bg-white text-slate-900 dark:bg-bg-01 dark:text-slate-100 leading-relaxed">
    <!-- Theme transition overlay -->
    <div class="theme-transition" id="theme-transition"></div>

    {{> header}}

    <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Archive Header -->
        <section class="mb-8">
            <div class="text-center">
                <h1 class="text-3xl sm:text-4xl font-bold text-slate-900 dark:text-slate-100 mb-4">
                    Archive
                </h1>
                <p class="text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto">
                    Browse all posts organized by date
                </p>
            </div>
        </section>

        <!-- Archive Content -->
        <section class="space-y-8">
            {{#each postsByYear}}
            <div class="archive-year">
                <h2 class="text-2xl font-bold text-slate-900 dark:text-slate-100 mb-6 pb-2 border-b border-slate-200 dark:border-slate-700">
                    {{year}}
                </h2>
                
                <div class="space-y-4">
                    {{#each posts}}
                    <article class="p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors">
                        <header class="flex items-start gap-3">
                            <div class="flex-shrink-0">
                                <div class="w-12 h-12 rounded-md bg-gradient-to-br from-accent to-slate-700 flex items-center justify-center text-white font-semibold">
                                    {{substring title 0 2}}
                                </div>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-lg font-semibold text-slate-900 dark:text-slate-100">
                                    <a href="/posts/{{slug}}" class="hover:underline">{{title}}</a>
                                </h3>
                                <p class="text-sm text-slate-500 dark:text-slate-400 mt-1">
                                    {{formatDate date}} • {{readingTime}} min read
                                    {{#if categories}}
                                    • <span class="text-blue-600 dark:text-blue-400">{{join categories ", "}}</span>
                                    {{/if}}
                                </p>
                                <p class="text-slate-600 dark:text-slate-300 mt-2 line-clamp-2">
                                    {{excerpt}}
                                </p>
                                <div class="mt-3">
                                    {{> tags}}
                                </div>
                            </div>
                        </header>
                    </article>
                    {{/each}}
                </div>
            </div>
            {{/each}}
        </section>
    </main>

    {{> footer}}

    {{> scripts}}

</body>
</html>
